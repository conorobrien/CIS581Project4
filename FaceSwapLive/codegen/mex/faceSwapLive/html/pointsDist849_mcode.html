<pre class="code">
<span class="srcline"><span class="lineno"><a href="112,71" id="srcline71">71</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="112,72" id="srcline72">72</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S53T470U442">dists</span> = pointsDist(<span class="var type1" id="S54T461U445">points</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="112,73" id="srcline73">73</a></span><span class="line">coder.inline(<span class="string">'always'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="112,74" id="srcline74">74</a></span><span class="line">    <span class="comment">% Converts it into the k-fan space, right now using Nose and Right Eye</span></span></span>
<span class="srcline"><span class="lineno"><a href="112,75" id="srcline75">75</a></span><span class="line">    <span class="mxinfo " id="T464:U3"><span class="var type1" id="S56T464U454">dist1</span> = <span class="mxinfo " id="T464:U5">sqrt(<span class="mxinfo " id="T464:U6">sum(<span class="mxinfo " id="T463:U7"><span class="mxinfo " id="T463:U8">bsxfun(@minus, <span class="mxinfo " id="T463:U9">[<span class="mxinfo " id="T464:U10"><span class="mxinfo " id="T1095:U11"><span class="var type1" id="S54T461U468">points</span>(<span class="mxinfo " id="T1095:U13">[<span class="mxinfo " id="T4:U14">3</span> <span class="mxinfo " id="T4:U15">5</span> <span class="mxinfo " id="T4:U16">7</span> <span class="mxinfo " id="T4:U17">9</span>]</span>)</span>'</span> <span class="mxinfo " id="T464:U18"><span class="mxinfo " id="T1095:U19"><span class="var type1" id="S54T461U477">points</span>(<span class="mxinfo " id="T1095:U21">[<span class="mxinfo " id="T4:U22">4</span> <span class="mxinfo " id="T4:U23">6</span> <span class="mxinfo " id="T4:U24">8</span> <span class="mxinfo " id="T4:U25">10</span>]</span>)</span>'</span>]</span>,<span class="mxinfo " id="T173:U26"><span class="var type1" id="S54T461U485">points</span>(<span class="mxinfo " id="T173:U28"><span class="mxinfo " id="T4:U29">1</span>:<span class="mxinfo " id="T4:U30">2</span></span>)</span>)</span>.^2</span>, 2)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="112,76" id="srcline76">76</a></span><span class="line">    <span class="mxinfo " id="T464:U31"><span class="var type1" id="S61T464U493">dist2</span> = <span class="mxinfo " id="T464:U33">sqrt(<span class="mxinfo " id="T464:U34">sum(<span class="mxinfo " id="T463:U35"><span class="mxinfo " id="T463:U36">bsxfun(@minus, <span class="mxinfo " id="T463:U37">[<span class="mxinfo " id="T464:U38"><span class="mxinfo " id="T1095:U39"><span class="var type1" id="S54T461U507">points</span>(<span class="mxinfo " id="T1095:U41">[<span class="mxinfo " id="T4:U42">1</span> <span class="mxinfo " id="T4:U43">5</span> <span class="mxinfo " id="T4:U44">7</span> <span class="mxinfo " id="T4:U45">9</span>]</span>)</span>'</span> <span class="mxinfo " id="T464:U46"><span class="mxinfo " id="T1095:U47"><span class="var type1" id="S54T461U516">points</span>(<span class="mxinfo " id="T1095:U49">[<span class="mxinfo " id="T4:U50">2</span> <span class="mxinfo " id="T4:U51">6</span> <span class="mxinfo " id="T4:U52">8</span> <span class="mxinfo " id="T4:U53">10</span>]</span>)</span>'</span>]</span>,<span class="mxinfo " id="T173:U54"><span class="var type1" id="S54T461U524">points</span>(<span class="mxinfo " id="T173:U56"><span class="mxinfo " id="T4:U57">3</span>:<span class="mxinfo " id="T4:U58">4</span></span>)</span>)</span>.^2</span>, 2)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="112,77" id="srcline77">77</a></span><span class="line">    <span class="mxinfo " id="T464:U59"><span class="var type1" id="S62T464U532">dist3</span> = <span class="mxinfo " id="T464:U61">sqrt(<span class="mxinfo " id="T464:U62">sum(<span class="mxinfo " id="T463:U63"><span class="mxinfo " id="T463:U64">bsxfun(@minus, <span class="mxinfo " id="T463:U65">[<span class="mxinfo " id="T464:U66"><span class="mxinfo " id="T1095:U67"><span class="var type1" id="S54T461U546">points</span>(<span class="mxinfo " id="T1095:U69">[<span class="mxinfo " id="T4:U70">1</span> <span class="mxinfo " id="T4:U71">3</span> <span class="mxinfo " id="T4:U72">7</span> <span class="mxinfo " id="T4:U73">9</span>]</span>)</span>'</span> <span class="mxinfo " id="T464:U74"><span class="mxinfo " id="T1095:U75"><span class="var type1" id="S54T461U555">points</span>(<span class="mxinfo " id="T1095:U77">[<span class="mxinfo " id="T4:U78">2</span> <span class="mxinfo " id="T4:U79">4</span> <span class="mxinfo " id="T4:U80">8</span> <span class="mxinfo " id="T4:U81">10</span>]</span>)</span>'</span>]</span>,<span class="mxinfo " id="T173:U82"><span class="var type1" id="S54T461U563">points</span>(<span class="mxinfo " id="T173:U84"><span class="mxinfo " id="T4:U85">5</span>:<span class="mxinfo " id="T4:U86">6</span></span>)</span>)</span>.^2</span>, 2)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="112,78" id="srcline78">78</a></span><span class="line">    <span class="mxinfo " id="T464:U87"><span class="var type1" id="S63T464U571">dist4</span> = <span class="mxinfo " id="T464:U89">sqrt(<span class="mxinfo " id="T464:U90">sum(<span class="mxinfo " id="T463:U91"><span class="mxinfo " id="T463:U92">bsxfun(@minus, <span class="mxinfo " id="T463:U93">[<span class="mxinfo " id="T464:U94"><span class="mxinfo " id="T1095:U95"><span class="var type1" id="S54T461U585">points</span>(<span class="mxinfo " id="T1095:U97">[<span class="mxinfo " id="T4:U98">1</span> <span class="mxinfo " id="T4:U99">3</span> <span class="mxinfo " id="T4:U100">5</span> <span class="mxinfo " id="T4:U101">9</span>]</span>)</span>'</span> <span class="mxinfo " id="T464:U102"><span class="mxinfo " id="T1095:U103"><span class="var type1" id="S54T461U594">points</span>(<span class="mxinfo " id="T1095:U105">[<span class="mxinfo " id="T4:U106">2</span> <span class="mxinfo " id="T4:U107">4</span> <span class="mxinfo " id="T4:U108">5</span> <span class="mxinfo " id="T4:U109">10</span>]</span>)</span>'</span>]</span>,<span class="mxinfo " id="T173:U110"><span class="var type1" id="S54T461U602">points</span>(<span class="mxinfo " id="T173:U112"><span class="mxinfo " id="T4:U113">7</span>:<span class="mxinfo " id="T4:U114">8</span></span>)</span>)</span>.^2</span>, 2)</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="112,79" id="srcline79">79</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="112,80" id="srcline80">80</a></span><span class="line">    <span class="mxinfo " id="T470:U115"><span class="var type1" id="S53T470U610">dists</span> = <span class="mxinfo " id="T470:U117">[<span class="mxinfo " id="T1095:U118"><span class="var type1" id="S56T464U614">dist1</span>'</span> <span class="mxinfo " id="T1095:U120"><span class="var type1" id="S61T464U616">dist2</span>'</span> <span class="mxinfo " id="T1095:U122"><span class="var type1" id="S62T464U618">dist3</span>'</span> <span class="mxinfo " id="T1095:U124"><span class="var type1" id="S63T464U620">dist4</span>'</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="112,81" id="srcline81">81</a></span><span class="line">    <span class="mxinfo " id="T470:U126"><span class="var type1" id="S53T470U623">dists</span> = <span class="mxinfo " id="T470:U128"><span class="var type1" id="S53T470U625">dists</span>/<span class="mxinfo " id="T4:U130">mean(<span class="var type1" id="S53T470U628">dists</span>)</span></span></span>; <span class="comment">% dividing by mean seems to be best way to normalize</span></span></span>
<span class="srcline"><span class="lineno"><a href="112,82" id="srcline82">82</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="112,83" id="srcline83">83</a></span><span class="line"></span></span>
</pre>
