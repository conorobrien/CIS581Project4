<pre class="code">
<span class="srcline"><span class="lineno"><a href="230,34" id="srcline34"> 34</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="230,35" id="srcline35"> 35</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S25T802U349">gaussian</span>, <span class="var type1" id="S26T802U350">laplacian</span>, <span class="var type1" id="S27T173U351">imStopSize</span>] = pyrBlendDown(<span class="var type1" id="S28T802U354">image</span>, <span class="var type1" id="S29T173U355">imStartSize</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="230,36" id="srcline36"> 36</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="230,37" id="srcline37"> 37</a></span><span class="line">    <span class="mxinfo " id="T515:U6"><span class="var type1" id="S30T515U358">k</span> = <span class="mxinfo " id="T515:U8">[1 4 6 4 1]/16</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,38" id="srcline38"> 38</a></span><span class="line">    <span class="mxinfo " id="T807:U9"><span class="var type1" id="S31T807U370">kernel</span> = <span class="mxinfo " id="T807:U11">conv2(<span class="var type1" id="S30T515U373">k</span>, <span class="var type1" id="S30T515U375">k</span>')</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,39" id="srcline39"> 39</a></span><span class="line">   </span></span>
<span class="srcline"><span class="lineno"><a href="230,40" id="srcline40"> 40</a></span><span class="line">    <span class="mxinfo " id="T802:U14"><span class="var type1" id="S25T802U378">gaussian</span> = <span class="mxinfo " id="T802:U16">zeros(size(<span class="var type1" id="S28T802U383">image</span>))</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,41" id="srcline41"> 41</a></span><span class="line">    <span class="mxinfo " id="T802:U18"><span class="var type1" id="S26T802U386">laplacian</span> = <span class="var type1" id="S25T802U387">gaussian</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,42" id="srcline42"> 42</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="230,43" id="srcline43"> 43</a></span><span class="line">    <span class="mxinfo " id="T290:U21"><span class="var type1" id="S35T290U390">mRange</span> = <span class="mxinfo " id="T290:U23">1:<span class="mxinfo " id="T4:U24">round(<span class="mxinfo " id="T4:U25"><span class="mxinfo " id="T4:U26"><span class="var type1" id="S29T173U397">imStartSize</span>(<span class="mxinfo " id="T4:U28">1</span>)</span>/<span class="mxinfo " id="T4:U29">2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,44" id="srcline44"> 44</a></span><span class="line">    <span class="mxinfo " id="T290:U30"><span class="var type1" id="S37T290U402">nRange</span> = <span class="mxinfo " id="T290:U32">1:<span class="mxinfo " id="T4:U33">round(<span class="mxinfo " id="T4:U34"><span class="mxinfo " id="T4:U35"><span class="var type1" id="S29T173U409">imStartSize</span>(<span class="mxinfo " id="T4:U37">2</span>)</span>/<span class="mxinfo " id="T4:U38">2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,45" id="srcline45"> 45</a></span><span class="line">    <span class="mxinfo " id="T173:U39"><span class="var type1" id="S27T173U414">imStopSize</span> = <span class="mxinfo " id="T173:U41">round(<span class="mxinfo " id="T173:U42"><span class="var type1" id="S29T173U418">imStartSize</span>/<span class="mxinfo " id="T4:U44">2</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,46" id="srcline46"> 46</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="230,47" id="srcline47"> 47</a></span><span class="line">    <span class="mxinfo " id="T961:U45"><span class="var type1" id="S38T961U422">gaussTemp</span> = <span class="mxinfo " id="T961:U47">imfilter(<span class="mxinfo " id="T961:U48"><span class="var type1" id="S28T802U426">image</span>(<span class="mxinfo " id="T1:U50"><span class="mxinfo " id="T4:U51">1</span>:<span class="mxinfo " id="T4:U52"><span class="var type1" id="S29T173U430">imStartSize</span>(<span class="mxinfo " id="T4:U54">1</span>)</span></span>, <span class="mxinfo " id="T1:U55"><span class="mxinfo " id="T4:U56">1</span>:<span class="mxinfo " id="T4:U57"><span class="var type1" id="S29T173U435">imStartSize</span>(<span class="mxinfo " id="T4:U59">2</span>)</span></span>,:)</span>, <span class="var type1" id="S31T807U438">kernel</span>, <span class="string">'circular'</span>, <span class="string">'conv'</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,48" id="srcline48"> 48</a></span><span class="line">    <span class="mxinfo " id="T761:U61"><span class="mxinfo " id="T761:U62"><span class="var type1" id="S25T802U444">gaussian</span>(<span class="var type1" id="S35T290U445">mRange</span>, <span class="var type1" id="S37T290U446">nRange</span>,:)</span> = <span class="mxinfo " id="T961:U66"><span class="var type1" id="S38T961U449">gaussTemp</span>(<span class="mxinfo " id="T1:U68"><span class="mxinfo " id="T4:U69">1</span>:<span class="mxinfo " id="T4:U70">2</span>:<span class="mxinfo " id="T4:U71">end</span></span>, <span class="mxinfo " id="T1:U72"><span class="mxinfo " id="T4:U73">1</span>:<span class="mxinfo " id="T4:U74">2</span>:<span class="mxinfo " id="T4:U75">end</span></span>,:)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,49" id="srcline49"> 49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="230,50" id="srcline50"> 50</a></span><span class="line">    <span class="mxinfo " id="T961:U76"><span class="var type1" id="S38T961U466">gaussTemp</span>(:) = <span class="mxinfo " id="T4:U78">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,51" id="srcline51"> 51</a></span><span class="line">    <span class="mxinfo " id="T961:U79"><span class="mxinfo " id="T961:U80"><span class="var type1" id="S38T961U472">gaussTemp</span>(<span class="mxinfo " id="T1:U82"><span class="mxinfo " id="T4:U83">1</span>:<span class="mxinfo " id="T4:U84">2</span>:<span class="mxinfo " id="T4:U85">end</span></span>, <span class="mxinfo " id="T1:U86"><span class="mxinfo " id="T4:U87">1</span>:<span class="mxinfo " id="T4:U88">2</span>:<span class="mxinfo " id="T4:U89">end</span></span>,:)</span> = <span class="mxinfo " id="T761:U90"><span class="var type1" id="S25T802U487">gaussian</span>(<span class="var type1" id="S35T290U488">mRange</span>, <span class="var type1" id="S37T290U489">nRange</span>,:)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,52" id="srcline52"> 52</a></span><span class="line">    <span class="mxinfo " id="T961:U94"><span class="mxinfo " id="T961:U95"><span class="var type1" id="S26T802U494">laplacian</span>(<span class="mxinfo " id="T1:U97"><span class="mxinfo " id="T4:U98">1</span>:<span class="mxinfo " id="T4:U99"><span class="var type1" id="S29T173U498">imStartSize</span>(<span class="mxinfo " id="T4:U101">1</span>)</span></span>, <span class="mxinfo " id="T1:U102"><span class="mxinfo " id="T4:U103">1</span>:<span class="mxinfo " id="T4:U104"><span class="var type1" id="S29T173U503">imStartSize</span>(<span class="mxinfo " id="T4:U106">2</span>)</span></span>,:)</span>  = <span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="230,53" id="srcline53"> 53</a></span><span class="line"><span class="mxinfo " id="T961:U94">        <span class="mxinfo " id="T961:U107"><span class="mxinfo " id="T961:U108"><span class="var type1" id="S28T802U508">image</span>(<span class="mxinfo " id="T1:U110"><span class="mxinfo " id="T4:U111">1</span>:<span class="mxinfo " id="T4:U112"><span class="var type1" id="S29T173U512">imStartSize</span>(<span class="mxinfo " id="T4:U114">1</span>)</span></span>, <span class="mxinfo " id="T1:U115"><span class="mxinfo " id="T4:U116">1</span>:<span class="mxinfo " id="T4:U117"><span class="var type1" id="S29T173U517">imStartSize</span>(<span class="mxinfo " id="T4:U119">2</span>)</span></span>,:)</span> -<span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="230,54" id="srcline54"> 54</a></span><span class="line"><span class="mxinfo " id="T961:U94"><span class="mxinfo " id="T961:U107">        <span class="mxinfo " id="T961:U120">imfilter(<span class="mxinfo " id="T961:U121"><span class="var type1" id="S38T961U523">gaussTemp</span>(<span class="mxinfo " id="T1:U123"><span class="mxinfo " id="T4:U124">1</span>:<span class="mxinfo " id="T4:U125"><span class="var type1" id="S29T173U527">imStartSize</span>(<span class="mxinfo " id="T4:U127">1</span>)</span></span>, <span class="mxinfo " id="T1:U128"><span class="mxinfo " id="T4:U129">1</span>:<span class="mxinfo " id="T4:U130"><span class="var type1" id="S29T173U532">imStartSize</span>(<span class="mxinfo " id="T4:U132">2</span>)</span></span>,:)</span>,<span class="keyword">...</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="230,55" id="srcline55"> 55</a></span><span class="line"><span class="mxinfo " id="T961:U94"><span class="mxinfo " id="T961:U107"><span class="mxinfo " id="T961:U120">        4*<span class="var type1" id="S31T807U537">kernel</span>, <span class="string">'circular'</span>, <span class="string">'conv'</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="230,56" id="srcline56"> 56</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="230,57" id="srcline57"> 57</a></span><span class="line"></span></span>
</pre>
