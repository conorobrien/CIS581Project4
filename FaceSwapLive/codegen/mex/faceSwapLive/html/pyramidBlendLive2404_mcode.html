<pre class="code">
<span class="srcline"><span class="lineno"><a href="229,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> [ <span class="var type1" id="S2T127U3">imageRecon</span> ] = pyramidBlendLive(<span class="var type1" id="S3T127U6">im1</span>, <span class="var type1" id="S4T127U7">im2</span>, <span class="var type1" id="S5T808U8">mask</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="229,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%PYRAMIDBLUR pyramid blur two pyramid objects using a binary mask</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,3" id="srcline3"> 3</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,4" id="srcline4"> 4</a></span><span class="line"><span class="comment">% First -&gt; Second</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,5" id="srcline5"> 5</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,6" id="srcline6"> 6</a></span><span class="line">[<span class="mxinfo " id="T882:U5"><span class="var type1" id="S6T882U12">gaussian1_2</span></span>, <span class="mxinfo " id="T127:U7"><span class="var type1" id="S7T127U13">laplacian1_1</span></span>] = <span class="fcn" id="F2070N25:B15">pyrBlendDown</span>(<span class="var type1" id="S3T127U16">im1</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,7" id="srcline7"> 7</a></span><span class="line">[<span class="mxinfo " id="T882:U10"><span class="var type1" id="S9T882U20">gaussian2_2</span></span>, <span class="mxinfo " id="T127:U12"><span class="var type1" id="S10T127U21">laplacian2_1</span></span>] = <span class="fcn" id="F2070N25:B23">pyrBlendDown</span>(<span class="var type1" id="S4T127U24">im2</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,8" id="srcline8"> 8</a></span><span class="line">[<span class="mxinfo " id="T902:U15"><span class="var type1" id="S11T902U28">gaussMask_2</span></span>, <span class="mxinfo " id="T4:U17"><span class="mxinfo " id="T4:U18">~</span></span>] = <span class="fcn" id="F2124N25:B31">pyrBlendDown</span>(<span class="var type1" id="S5T808U32">mask</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,9" id="srcline9"> 9</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,10" id="srcline10">10</a></span><span class="line"><span class="comment">% Second -&gt; Third</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,11" id="srcline11">11</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,12" id="srcline12">12</a></span><span class="line">[<span class="mxinfo " id="T917:U20"><span class="var type1" id="S12T917U36">gaussian1_3</span></span>, <span class="mxinfo " id="T882:U22"><span class="var type1" id="S13T882U37">laplacian1_2</span></span>] = <span class="fcn" id="F2161N25:B39">pyrBlendDown</span>(<span class="var type1" id="S6T882U40">gaussian1_2</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,13" id="srcline13">13</a></span><span class="line">[<span class="mxinfo " id="T917:U25"><span class="var type1" id="S14T917U44">gaussian2_3</span></span>, <span class="mxinfo " id="T882:U27"><span class="var type1" id="S15T882U45">laplacian2_2</span></span>] = <span class="fcn" id="F2161N25:B47">pyrBlendDown</span>(<span class="var type1" id="S9T882U48">gaussian2_2</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,14" id="srcline14">14</a></span><span class="line">[<span class="mxinfo " id="T931:U30"><span class="var type1" id="S16T931U52">gaussMask_3</span></span>, <span class="mxinfo " id="T4:U32"><span class="mxinfo " id="T4:U33">~</span></span>] = <span class="fcn" id="F2197N25:B55">pyrBlendDown</span>(<span class="var type1" id="S11T902U56">gaussMask_2</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,15" id="srcline15">15</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,16" id="srcline16">16</a></span><span class="line"><span class="comment">% Third -&gt; Fourth</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,18" id="srcline18">18</a></span><span class="line">[<span class="mxinfo " id="T946:U35"><span class="var type1" id="S17T946U60">gaussian1_4</span></span>, <span class="mxinfo " id="T917:U37"><span class="var type1" id="S18T917U61">laplacian1_3</span></span>] = <span class="fcn" id="F2234N25:B63">pyrBlendDown</span>(<span class="var type1" id="S12T917U64">gaussian1_3</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,19" id="srcline19">19</a></span><span class="line">[<span class="mxinfo " id="T946:U40"><span class="var type1" id="S19T946U68">gaussian2_4</span></span>, <span class="mxinfo " id="T917:U42"><span class="var type1" id="S20T917U69">laplacian2_3</span></span>] = <span class="fcn" id="F2234N25:B71">pyrBlendDown</span>(<span class="var type1" id="S14T917U72">gaussian2_3</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,20" id="srcline20">20</a></span><span class="line">[<span class="mxinfo " id="T960:U45"><span class="var type1" id="S21T960U76">gaussMask_4</span></span>, <span class="mxinfo " id="T4:U47"><span class="mxinfo " id="T4:U48">~</span></span>] = <span class="fcn" id="F2270N25:B79">pyrBlendDown</span>(<span class="var type1" id="S16T931U80">gaussMask_3</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,21" id="srcline21">21</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,22" id="srcline22">22</a></span><span class="line"><span class="comment">% Fourth -&gt; Fifth</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,23" id="srcline23">23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,24" id="srcline24">24</a></span><span class="line">[<span class="mxinfo " id="T975:U50"><span class="var type1" id="S22T975U84">gaussian1_5</span></span>, <span class="mxinfo " id="T946:U52"><span class="var type1" id="S23T946U85">laplacian1_4</span></span>] = <span class="fcn" id="F2307N25:B87">pyrBlendDown</span>(<span class="var type1" id="S17T946U88">gaussian1_4</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,25" id="srcline25">25</a></span><span class="line">[<span class="mxinfo " id="T975:U55"><span class="var type1" id="S24T975U92">gaussian2_5</span></span>, <span class="mxinfo " id="T946:U57"><span class="var type1" id="S25T946U93">laplacian2_4</span></span>] = <span class="fcn" id="F2307N25:B95">pyrBlendDown</span>(<span class="var type1" id="S19T946U96">gaussian2_4</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,26" id="srcline26">26</a></span><span class="line">[<span class="mxinfo " id="T989:U60"><span class="var type1" id="S26T989U100">gaussMask_5</span></span>, <span class="mxinfo " id="T4:U62"><span class="mxinfo " id="T4:U63">~</span></span>] = <span class="fcn" id="F2343N25:B103">pyrBlendDown</span>(<span class="var type1" id="S21T960U104">gaussMask_4</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="229,27" id="srcline27">27</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,28" id="srcline28">28</a></span><span class="line"><span class="mxinfo " id="T975:U65"><span class="var type1" id="S2T975U107">imageRecon</span> = <span class="mxinfo " id="T975:U67"><span class="mxinfo " id="T975:U68">bsxfun(@times, <span class="var type1" id="S22T975U113">gaussian1_5</span>, <span class="var type1" id="S26T989U114">gaussMask_5</span>)</span> + <span class="mxinfo " id="T975:U71">bsxfun(@times, <span class="var type1" id="S24T975U119">gaussian2_5</span>, <span class="mxinfo " id="T989:U73">~<span class="var type1" id="S26T989U121">gaussMask_5</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,29" id="srcline29">29</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,30" id="srcline30">30</a></span><span class="line"><span class="comment">% Fifth -&gt; Fourth </span></span></span>
<span class="srcline"><span class="lineno"><a href="229,31" id="srcline31">31</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,32" id="srcline32">32</a></span><span class="line"><span class="mxinfo " id="T946:U75"><span class="var type1" id="S29T946U124">laplacian</span> = <span class="mxinfo " id="T946:U77"><span class="mxinfo " id="T946:U78">bsxfun(@times, <span class="var type1" id="S23T946U130">laplacian1_4</span>, <span class="var type1" id="S21T960U131">gaussMask_4</span>)</span> + <span class="mxinfo " id="T946:U81">bsxfun(@times, <span class="var type1" id="S25T946U136">laplacian2_4</span>, <span class="mxinfo " id="T960:U83">~<span class="var type1" id="S21T960U138">gaussMask_4</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,33" id="srcline33">33</a></span><span class="line"><span class="mxinfo " id="T946:U85"><span class="var type1" id="S2T946U141">imageRecon</span> = <span class="mxinfo " id="T946:U87"><span class="fcn" id="F2373N26:B143">pyrBlendUp</span>(<span class="var type1" id="S2T975U144">imageRecon</span>, <span class="var type1" id="S29T946U145">laplacian</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,34" id="srcline34">34</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,35" id="srcline35">35</a></span><span class="line"><span class="comment">% Fourth -&gt; Third </span></span></span>
<span class="srcline"><span class="lineno"><a href="229,36" id="srcline36">36</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,37" id="srcline37">37</a></span><span class="line"><span class="mxinfo " id="T917:U90"><span class="var type1" id="S29T917U148">laplacian</span> = <span class="mxinfo " id="T917:U92"><span class="mxinfo " id="T917:U93">bsxfun(@times, <span class="var type1" id="S18T917U154">laplacian1_3</span>, <span class="var type1" id="S16T931U155">gaussMask_3</span>)</span> + <span class="mxinfo " id="T917:U96">bsxfun(@times, <span class="var type1" id="S20T917U160">laplacian2_3</span>, <span class="mxinfo " id="T931:U98">~<span class="var type1" id="S16T931U162">gaussMask_3</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,38" id="srcline38">38</a></span><span class="line"><span class="mxinfo " id="T917:U100"><span class="var type1" id="S2T917U165">imageRecon</span> = <span class="mxinfo " id="T917:U102"><span class="fcn" id="F2383N26:B167">pyrBlendUp</span>(<span class="var type1" id="S2T946U168">imageRecon</span>, <span class="var type1" id="S29T917U169">laplacian</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,39" id="srcline39">39</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,40" id="srcline40">40</a></span><span class="line"><span class="comment">% Third -&gt; Second </span></span></span>
<span class="srcline"><span class="lineno"><a href="229,41" id="srcline41">41</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,42" id="srcline42">42</a></span><span class="line"><span class="mxinfo " id="T882:U105"><span class="var type1" id="S29T882U172">laplacian</span> = <span class="mxinfo " id="T882:U107"><span class="mxinfo " id="T882:U108">bsxfun(@times, <span class="var type1" id="S13T882U178">laplacian1_2</span>, <span class="var type1" id="S11T902U179">gaussMask_2</span>)</span> + <span class="mxinfo " id="T882:U111">bsxfun(@times, <span class="var type1" id="S15T882U184">laplacian2_2</span>, <span class="mxinfo " id="T902:U113">~<span class="var type1" id="S11T902U186">gaussMask_2</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,43" id="srcline43">43</a></span><span class="line"><span class="mxinfo " id="T882:U115"><span class="var type1" id="S2T882U189">imageRecon</span> = <span class="mxinfo " id="T882:U117"><span class="fcn" id="F2393N26:B191">pyrBlendUp</span>(<span class="var type1" id="S2T917U192">imageRecon</span>, <span class="var type1" id="S29T882U193">laplacian</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,44" id="srcline44">44</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,45" id="srcline45">45</a></span><span class="line"><span class="comment">% Second -&gt; First</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,46" id="srcline46">46</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,47" id="srcline47">47</a></span><span class="line"><span class="mxinfo " id="T127:U120"><span class="var type1" id="S29T127U196">laplacian</span> = <span class="mxinfo " id="T127:U122"><span class="mxinfo " id="T127:U123">bsxfun(@times, <span class="var type1" id="S7T127U202">laplacian1_1</span>, <span class="var type1" id="S5T808U203">mask</span>)</span> + <span class="mxinfo " id="T127:U126">bsxfun(@times, <span class="var type1" id="S10T127U208">laplacian2_1</span>, <span class="var type1" id="S5T808U209">mask</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,48" id="srcline48">48</a></span><span class="line"><span class="mxinfo " id="T127:U129"><span class="var type1" id="S2T127U212">imageRecon</span> = <span class="mxinfo " id="T127:U131"><span class="fcn" id="F2403N26:B214">pyrBlendUp</span>(<span class="var type1" id="S2T882U215">imageRecon</span>, <span class="var type1" id="S29T127U216">laplacian</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="229,49" id="srcline49">49</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="229,50" id="srcline50">50</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="229,51" id="srcline51">51</a></span><span class="line"></span></span>
</pre>
